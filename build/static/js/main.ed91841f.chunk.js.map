{"version":3,"sources":["components/Filter.js","components/Persons.js","components/Add.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","placeholder","Persons","persons","newFilter","deleteEntry","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","Add","addEntry","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","required","type","Notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","useEffect","personService","e","target","preventDefault","find","entry","window","confirm","res","setTimeout","some","alert","concat","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ed91841f.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ value, onChange }) => {\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\n\t\t\t<input placeholder={'Filter your results'} value={value} onChange={onChange} />\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Persons = ({ persons, newFilter, deleteEntry }) => {\n\tconst rows = () =>\n\t\tpersons.filter((person) => person.name.toLowerCase().includes(newFilter.toLowerCase())).map((person) => (\n\t\t\t<div key={person.name}>\n\t\t\t\t{person.name} {person.number}\n\t\t\t\t<button onClick={() => deleteEntry(person.id)}>delete</button>\n\t\t\t</div>\n\t\t));\n\treturn (\n\t\t<div>\n\t\t\t<h2>Numbers</h2>\n\n\t\t\t{rows()}\n\t\t</div>\n\t);\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Add = ({ addEntry, newName, handleNameChange, newNumber, handleNumberChange }) => {\n\treturn (\n\t\t<div>\n\t\t\t<h3>Add An Entry </h3>\n\n\t\t\t<form onSubmit={addEntry}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input placeholder=\"Enter a new name\" value={newName} onChange={handleNameChange} required />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber:{' '}\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Enter a phone number\"\n\t\t\t\t\t\tvalue={newNumber}\n\t\t\t\t\t\tonChange={handleNumberChange}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Add;\n","import React from 'react';\n\nconst Notification = ({ message, type }) => {\n\tif (message === null) {\n\t\treturn null;\n\t}\n\n\treturn <div className={type}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n\tconst request = axios.post(baseUrl, newPerson);\n\treturn request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then((response) => response.data);\n};\n\nconst update = (id, newPerson) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newPerson);\n\treturn request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport Add from './components/Add';\nimport Notification from './components/Notification';\nimport personService from './services/persons';\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([]);\n\tconst [ newName, setNewName ] = useState('');\n\tconst [ newNumber, setNewNumber ] = useState('');\n\tconst [ newFilter, setNewFilter ] = useState('');\n\tconst [ notification, setNotification ] = useState({});\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((persons) => setPersons(persons));\n\t}, []);\n\n\tconst addEntry = (e) => {\n\t\te.preventDefault();\n\n\t\t//REVIEW THIS!! https://fullstackopen.com/en/part2/altering_data_in_server\n\t\tif (persons.find((person) => person.name === newName)) {\n\t\t\tlet entry = persons.find((person) => person.name === newName);\n\t\t\tlet confirmUpdate = window.confirm(`Do you want to update the phone number for ${entry.name}?`);\n\t\t\tif (confirmUpdate) {\n\t\t\t\tconst newPerson = { name: newName, number: newNumber };\n\n\t\t\t\tpersonService.update(entry.id, newPerson).then((res) => {\n\t\t\t\t\tsetPersons(persons.map((person) => (person.id === res.id ? res : person)));\n\t\t\t\t});\n\n\t\t\t\tsetNotification({ message: `${newName}'s number has been updated`, type: 'notification' });\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotification(null);\n\t\t\t\t}, 5000);\n\t\t\t\tsetNewName('');\n\t\t\t\tsetNewNumber('');\n\t\t\t}\n\t\t} else if (!persons.some((person) => person.name.toLowerCase() === newName.toLowerCase())) {\n\t\t\t//Creating this object was helpful for me. Do this again!\n\t\t\tconst newPerson = { name: newName, number: newNumber };\n\n\t\t\tpersonService.create(newPerson).then((res) => {\n\t\t\t\tsetPersons(persons.concat(res));\n\t\t\t});\n\n\t\t\tsetNotification({ message: `${newName} has been added `, type: 'notification' });\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetNotification(null);\n\t\t\t}, 5000);\n\n\t\t\tsetNewName('');\n\t\t\tsetNewNumber('');\n\t\t} else {\n\t\t\talert(`${newName} is already added to phonebook`);\n\t\t}\n\t};\n\n\tconst deleteEntry = (id) => {\n\t\t//Creating an entry for the listing helped me work this out again!\n\t\t//(Note to self: ee how to do this without doing so)\n\t\tconst entry = persons.find((person) => person.id === id);\n\t\tlet deleteAlert = window.confirm(`Do you want to delete the entry about ${entry.name}?`);\n\t\tif (deleteAlert) {\n\t\t\tpersonService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `This person was already removed`,\n\t\t\t\t\t\ttype: `error`\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification({});\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t}\n\t};\n\tconst handleNameChange = (e) => {\n\t\tsetNewName(e.target.value);\n\t};\n\n\tconst handleNumberChange = (e) => {\n\t\tsetNewNumber(e.target.value);\n\t};\n\n\tconst handleFilterChange = (e) => {\n\t\tsetNewFilter(e.target.value);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{notification && <Notification message={notification.message} type={notification.type} />}\n\t\t\t<Filter value={newFilter} onChange={handleFilterChange} />\n\t\t\t<Add\n\t\t\t\taddEntry={addEntry}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<Persons persons={persons} deleteEntry={deleteEntry} newFilter={newFilter} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}